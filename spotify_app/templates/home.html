<!DOCTYPE html>

<body>
	<h1>Your Playlists</h1>
	<div id="playlists">Loading...</div>
  
	<script>
	  async function loadPlaylists() {
		try {
		  const res = await fetch("/api/playlists");
		  const playlists = await res.json();
  
		  const container = document.getElementById("playlists");
		  container.innerHTML = playlists.map(p => `
			<div class="playlist">
			  <strong>${p.name}</strong> (${p.tracks.total} tracks)
			  <a href="/playlists/${p.id}">${p.name}</a>
			</div>
		  `).join('');
		} catch (err) {
		  console.error(err);
		  document.getElementById("playlists").innerText = "Failed to load playlists.";
		}
	  }
  
	  loadPlaylists();
	</script>
  </body>
  